import{r as h,u as g,j as s,S as b,a as y,b as v,c as f,d as D,T as C,G as L,t as u,s as a,e as k,f as M,L as T,D as I,g as P,R as F,h as j}from"./index-CqKicEeX.js";const V="/assets/ascend-musical-mallet-IwYd7-QW.mp3",N=e=>{const o=e.reduce((t,c)=>(t[c]="",t),{}),[n,r]=h.useState(o);return{inputs:n,handleInput:t=>{const{name:c,value:m}=t.target;r(i=>({...i,[c]:m}))}}},W=({handleSubmit:e,handleInput:o,isLoading:n})=>{const r=g(c=>c.auth),[l,t]=h.useState(!1);return s.jsxs("form",{onSubmit:e,className:"flex flex-col sm:flex-row items-center gap-3 mt-2",children:[s.jsx("input",{autoComplete:"off",name:"username",type:"search",onChange:o,placeholder:"Username",className:"input-box text-lime-400 font-semibold text-sm focus:outline-none h-9 w-40 sm:w-48 rounded-sm px-3 bg-zinc-900 placeholder:text-zinc-600"}),s.jsx("input",{autoComplete:"off",onClick:()=>t(!0),onKeyDown:()=>t(!0),type:l?"password":"search",name:"password",onChange:o,placeholder:"Password",className:"input-box text-lime-400 font-semibold text-sm focus:outline-none h-9 w-40 sm:w-48 rounded-sm px-3 bg-zinc-900 placeholder:text-zinc-600"}),n?s.jsx(b,{fill:"fill-lime-400"}):s.jsx("button",{type:"submit",className:"text-sm font-bold",children:s.jsx("i",{className:`fa-solid ${r.isAuthenticated?"fa-lock-open":"fa-lock"} fa-lg text-zinc-400 w-5 hover:text-zinc-500 duration-200`})})]})},G=()=>{const e=y(),o=v(),{inputs:n,handleInput:r}=N(["username","password"]),l=f(L),[t,{isLoading:c}]=D(),m=async i=>{i.preventDefault(),n.password!==""&&n.username!==""&&(e(u(!0)),e(a(25)),await t({username:n.username,password:n.password}).unwrap().then(d=>{d.isAuthenticated&&(e(a(100)),l==null||l.play(),o("/admin/dashboard"),setTimeout(()=>{e(u(!1)),e(a(0))},250))}).catch(()=>{e(u(!1)),e(a(0))}))};return s.jsx("div",{className:"flex flex-col items-center overflow-hidden pt-40",children:s.jsxs("div",{className:"flex flex-col px-7",children:[s.jsx(C,{sentence:"Login",speed:40,text:"text-sm text-zinc-100 font-bold h-5"}),s.jsx(W,{handleSubmit:m,handleInput:r,isLoading:c})]})})},K=({handleSubmit:e,handleInput:o,isLoading:n})=>{const r=g(c=>c.auth),[l,t]=h.useState(!1);return s.jsxs("form",{onSubmit:e,className:"flex flex-col sm:flex-row items-center gap-3 mt-2",children:[s.jsx("input",{autoComplete:"off",name:"username",type:"search",onChange:o,placeholder:"Username",className:"input-box text-lime-400 font-semibold text-sm focus:outline-none h-9 w-40 sm:w-48 rounded-sm px-3 bg-zinc-900 placeholder:text-zinc-600"}),s.jsx("input",{autoComplete:"off",onClick:()=>t(!0),onKeyDown:()=>t(!0),name:"password",type:l?"password":"search",onChange:o,placeholder:"Password",className:"input-box text-lime-400 font-semibold text-sm focus:outline-none h-9 w-40 sm:w-48 rounded-sm px-3 bg-zinc-900 placeholder:text-zinc-600"}),n?s.jsx(b,{fill:"fill-lime-400"}):s.jsx("button",{type:"submit",className:"text-sm font-bold",children:s.jsx("i",{className:`fa-solid ${r.accountWasCreated?"fa-lock-open":"fa-lock"} fa-lg text-zinc-400 w-5 hover:text-zinc-500 duration-200`})})]})},U=()=>{const e=y(),o=v(),n=h.useRef(null),[r,l]=h.useState(""),{inputs:t,handleInput:c}=N(["username","password"]),m=f(V),i=f(I),d=g(p=>p.auth.success),[z,{isLoading:w}]=k(),[R]=M(),S=async p=>{p.preventDefault(),t.password!==""&&t.username!==""&&(e(u(!0)),e(a(15)),await z({username:t.username,password:t.password}).unwrap().then(x=>{x.accountWasCreated&&(e(a(100)),m==null||m.play(),o("/admin/dashboard"),setTimeout(()=>{e(u(!1)),e(a(0)),e(P())},250))}).catch(()=>{i==null||i.play(),e(u(!1)),e(a(0))}))},A=async p=>{p.preventDefault(),e(u(!0)),e(a(15)),await R({code:r}).unwrap().then(x=>{e(a(75)),x!=null&&x.codeValidated&&(e(a(100)),setTimeout(()=>{e(a(0)),e(u(!1))},100))}).catch(()=>{e(a(0)),e(u(!1)),i==null||i.play(),n.current.value="",l("")})};return s.jsx("div",{className:"flex flex-col items-center overflow-hidden pt-40",children:d?s.jsxs("div",{className:"flex flex-col",children:[s.jsx(C,{sentence:d?"Register":"Enter Code",speed:40,text:"text-sm text-zinc-100 font-bold h-5"}),s.jsx(K,{handleSubmit:S,handleInput:c,isLoading:w})]}):s.jsx(T,{inputRef:n,setCode:l,code:r,handleVerifyCode:A,isLoading:w,success:d})})},B=()=>s.jsxs(F,{children:[s.jsx(j,{path:"login",element:s.jsx(G,{})}),s.jsx(j,{path:"register",element:s.jsx(U,{})})]});export{B as default};
